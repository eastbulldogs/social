<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ghana Empire Quiz</title>
    <style>
        :root {
            --gold-50: #fff7ed;
            --gold-700: #c2410c;
            --gold-800: #9a3412;
            --gold-900: #7c2d12;
            --yellow-500: #eab308;
            --gold-100: #ffedd5;
            --gold-200: #fed7aa;
        }

        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--gold-50);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            padding: 24px;
            border: 2px solid var(--gold-700);
        }

        h1 {
            color: var(--gold-800);
            text-align: center;
            margin-bottom: 24px;
        }

        .story-section {
            background-color: var(--gold-100);
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .story-text {
            color: var(--gold-800);
            font-style: italic;
            margin: 0;
        }

        .progress-bar-container {
            background-color: var(--gold-200);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 16px;
        }

        .progress-bar {
            background-color: var(--yellow-500);
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .question {
            color: var(--gold-800);
            font-size: 1.2em;
            margin-bottom: 16px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-button {
            background-color: white;
            border: 1px solid var(--gold-200);
            padding: 12px;
            text-align: left;
            border-radius: 4px;
            cursor: pointer;
            color: var(--gold-900);
            transition: all 0.2s ease;
        }

        .option-button:hover {
            background-color: var(--gold-50);
            border-color: var(--gold-700);
        }

        .score-section {
            text-align: center;
        }

        .trophy {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .restart-button {
            background-color: var(--gold-700);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 16px;
        }

        .restart-button:hover {
            background-color: var(--gold-800);
        }

        .home-link {
            display: block;
            text-align: left;
            padding: 10px;
            color: var(--gold-700);
            text-decoration: none;
            position: fixed;
            bottom: 20px;
            left: 20px;
            background-color: white;
            border: 1px solid var(--gold-200);
            border-radius: 4px;
        }

        .home-link:hover {
            color: var(--gold-800);
            text-decoration: underline;
        }

        .progress-text {
            color: var(--gold-700);
            margin-bottom: 8px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>The Empire of Ghana: Land of Gold</h1>
        <div id="quiz-container"></div>
        <a href="../index.html" class="home-link">Back to Home</a>
    </div>

    <script>
        const storySegments = [
            "In the lands between the Senegal and Niger rivers, a powerful kingdom began to emerge...",
            "The kingdom's rulers gained the title 'Ghana', meaning 'war chief', as they united the region...",
            "Each day, the king held magnificent court, dressed in gold and surrounded by loyal guards...",
            "Traders from across the Sahara brought precious salt to exchange for gold...",
            "The secret gold mines of Wangara brought great wealth to the kingdom...",
            "In the bustling marketplace of Kumbi, merchants traded goods from distant lands...",
            "The kingdom grew wealthy by collecting taxes on the gold-salt trade...",
            "Ghana's army of 200,000 warriors protected the trade routes...",
            "Silent trade allowed the Wangarans to keep their gold mines secret...",
            "Though Ghana eventually fell, its legacy lived on in the great empire of Mali..."
        ];

        const questions = [
            {
                question: "Where was the ancient kingdom of Ghana located?",
                options: [
                    "In modern-day Ghana",
                    "Between the Senegal and Niger rivers",
                    "Along the Mediterranean coast",
                    "In East Africa"
                ],
                correctAnswer: 1
            },
            {
                question: "What was the meaning of the title 'ghana'?",
                options: [
                    "Golden king",
                    "Sacred ruler",
                    "War chief",
                    "Trade master"
                ],
                correctAnswer: 2
            },
            {
                question: "How did Ghana's king demonstrate his wealth and power in court?",
                options: [
                    "By wearing simple clothes",
                    "By staying hidden from view",
                    "By dressing in colorful robes and gold jewelry",
                    "By sitting on the ground"
                ],
                correctAnswer: 2
            },
            {
                question: "What made trans-Saharan trade possible?",
                options: [
                    "Modern vehicles",
                    "The introduction of camels",
                    "River transportation",
                    "Flying carpets"
                ],
                correctAnswer: 1
            },
            {
                question: "What was unique about the gold mines of Wangara?",
                options: [
                    "They were open to everyone",
                    "They were very small",
                    "Their location was kept secret",
                    "They produced no gold"
                ],
                correctAnswer: 2
            },
            {
                question: "What items could be found in Kumbi's marketplace?",
                options: [
                    "Only local goods",
                    "Only gold and salt",
                    "A wide variety including foreign goods",
                    "Nothing of value"
                ],
                correctAnswer: 2
            },
            {
                question: "How did Ghana become wealthy?",
                options: [
                    "By taxing trade",
                    "Through farming",
                    "By selling camels",
                    "Through fishing"
                ],
                correctAnswer: 0
            },
            {
                question: "What was one purpose of Ghana's large army?",
                options: [
                    "To protect trade routes",
                    "To build houses",
                    "To mine gold",
                    "To make salt"
                ],
                correctAnswer: 0
            },
            {
                question: "What was the purpose of silent trade?",
                options: [
                    "To save time",
                    "To keep gold mine locations secret",
                    "To avoid talking",
                    "To make noise"
                ],
                correctAnswer: 1
            },
            {
                question: "What empire rose to power after Ghana's decline?",
                options: [
                    "Mali",
                    "Egypt",
                    "Rome",
                    "Persia"
                ],
                correctAnswer: 0
            }
        ];

        class Quiz {
            constructor() {
                this.score = 0;
                this.currentQuestion = 0;
                this.quizContainer = document.getElementById('quiz-container');
                this.unlockedStorySegments = [];
            }

            renderQuestion() {
                const question = questions[this.currentQuestion];
                const story = this.unlockedStorySegments.join(" ");
                
                const html = `
                    <div class="story-section">
                        <p class="story-text">${story}</p>
                    </div>
                    
                    <div class="progress-text">
                        Question ${this.currentQuestion + 1} of ${questions.length}
                    </div>
                    
                    <div class="progress-bar-container">
                        <div class="progress-bar" style="width: ${((this.currentQuestion + 1) / questions.length) * 100}%"></div>
                    </div>
                    
                    <div class="question">${question.question}</div>
                    
                    <div class="options">
                        ${question.options.map((option, index) => `
                            <button class="option-button" onclick="quiz.checkAnswer(${index})">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                `;
                
                this.quizContainer.innerHTML = html;
            }

            checkAnswer(selectedAnswer) {
                const isCorrect = selectedAnswer === questions[this.currentQuestion].correctAnswer;
                if (isCorrect) {
                    this.score++;
                    this.unlockedStorySegments.push(storySegments[this.currentQuestion]);
                }

                this.currentQuestion++;

                if (this.currentQuestion < questions.length) {
                    this.renderQuestion();
                } else {
                    this.showResults();
                }
            }

            showResults() {
                let message = '';
                if (this.score === questions.length) {
                    message = "Magnificent! You've mastered the history of Ghana's golden empire!";
                } else if (this.score >= questions.length / 2) {
                    message = "Well done! You're learning about the wealth and power of ancient Ghana!";
                } else {
                    message = "Keep exploring the fascinating history of Ghana's empire!";
                }

                const storyProgress = `You've discovered ${this.score} parts of the story. ${this.score === questions.length ? 
                    "You've unlocked the complete story of how Ghana became a powerful trading empire!" : 
                    "Try again to uncover more of Ghana's story!"}`;

                const html = `
                    <div class="score-section">
                        <div class="trophy">🏆</div>
                        <h2 style="color: var(--gold-800)">You scored ${this.score} out of ${questions.length}!</h2>
                        <div class="story-section">
                            <p class="story-text">${message}</p>
                            <p style="color: var(--gold-700); margin-top: 12px;">${storyProgress}</p>
                        </div>
                        <button class="restart-button" onclick="quiz.restart()">
                            Try Again
                        </button>
                    </div>
                `;
                
                this.quizContainer.innerHTML = html;
            }

            restart() {
                this.score = 0;
                this.currentQuestion = 0;
                this.unlockedStorySegments = [];
                this.renderQuestion();
            }
        }

        const quiz = new Quiz();
        quiz.renderQuestion();
    </script>
</body>
</html>